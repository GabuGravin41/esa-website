{% extends 'core/base.html' %}
{% load static %}

{% load core_filters %}

{% block content %}


<body class="bg-white text-[#333] font-sans">
<!-- Hero Section -->
<section class="relative bg-cover bg-center min-h-[90vh]" style="background-image: url({% static 'images/esa_hero.jpg' %});">
    <!-- 
    How to load background image from static directory instead:
    1. Replace the URL above with: 
    style="background-image: url({% static 'images/hero-background.jpg' %});"
    
    2. Make sure you have t the top of your template
    3. Place your image in the puddle/static/images/ directory
    
    -->
    
    <div class="bg-black bg-opacity-60">
        <div class="container mx-auto px-4 py-12 md:py-24 text-center text-white min-h-[90vh] flex flex-col items-center justify-center">
            <!-- Animated Badge -->
            <div class="inline-block mb-4 md:mb-6 animate-bounce">
                <span class="bg-yellow-500 text-white text-xs font-bold px-3 py-1 md:px-4 md:py-2 rounded-full uppercase tracking-wider">Empowering Engineers</span>
            </div>
            
            <!-- Main Heading with Glow Effect -->
            <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-4 md:mb-6 leading-tight drop-shadow-[0_0_8px_rgba(255,255,255,0.2)]">
                Engineering Students Association<br><span class="text-blue-500">Kenyatta University</span>
            </h1>
         
            
            <p class="text-lg sm:text-xl md:text-2xl mb-6 md:mb-10 max-w-3xl mx-auto text-gray-100 px-2">
                Empowering Future Engineers Through Innovation, Collaboration, and Excellence
            </p>
            
            <!-- Buttons - Stack on mobile, side by side on larger screens -->
            <div class="flex flex-col sm:flex-row justify-center gap-4 md:gap-6 mb-8 md:mb-12 w-full px-4 sm:px-0">
                <a href="{% url 'register_with_payment' %}" class="bg-blue-900 hover:bg-blue-800 text-white px-6 py-3 md:px-8 md:py-4 rounded-lg font-bold text-base md:text-lg transition-colors duration-300 w-full sm:w-auto">
                    <span>Join ESA</span>
                </a>
                <a href="#programs" class="bg-transparent border-2 border-green-700 hover:bg-green-700 hover:text-white text-white px-6 py-3 md:px-8 md:py-4 rounded-lg font-bold text-base md:text-lg transition-colors duration-300 w-full sm:w-auto">
                    <span>Explore Programs</span>
                </a>
            </div>
            
            <!-- Stats - Single column on mobile, 3 columns on larger screens -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-6 max-w-4xl mx-auto w-full px-4 sm:px-0">
                <div class="flex flex-col items-center p-4 md:p-5 backdrop-blur-sm bg-white/10 rounded-lg transform transition-all hover:scale-105">
                    <div class="text-3xl md:text-4xl lg:text-5xl font-bold text-blue-400 mb-1 md:mb-2">300+</div>
                    <div class="text-gray-200 uppercase tracking-wider text-xs md:text-sm">Active Members</div>
                </div>
                <div class="flex flex-col items-center p-4 md:p-5 backdrop-blur-sm bg-white/10 rounded-lg transform transition-all hover:scale-105">
                    <div class="text-3xl md:text-4xl lg:text-5xl font-bold text-blue-400 mb-1 md:mb-2">20+</div>
                    <div class="text-gray-200 uppercase tracking-wider text-xs md:text-sm">Annual Events</div>
                </div>
                <div class="flex flex-col items-center p-4 md:p-5 backdrop-blur-sm bg-white/10 rounded-lg transform transition-all hover:scale-105">
                    <div class="text-3xl md:text-4xl lg:text-5xl font-bold text-blue-400 mb-1 md:mb-2">13+</div>
                    <div class="text-gray-200 uppercase tracking-wider text-xs md:text-sm">Industry Partners</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Announcements Bar with Improved Styling -->
<div class="bg-gradient-to-r from-blue-900 to-blue-800 text-white py-4 relative overflow-hidden">
    <div class="flex items-center">
        <div class="flex-shrink-0 px-6 py-2 font-bold text-lg border-r border-white/30 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" />
            </svg>
            ANNOUNCEMENTS
        </div>
        <div class="overflow-hidden w-full">
            <div class="whitespace-nowrap inline-block animate-[marquee_25s_linear_infinite]">
                {% if announcements %}
                    {% for announcement in announcements %}
                        {{ announcement.title }}: {{ announcement.content }} {% if not forloop.last %} â€¢ {% endif %}
                    {% endfor %}
                {% else %}
                    No announcements at this time. Stay tuned for updates!
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Featured Programs Section -->
<section id="programs" class="py-20 bg-white">
    <div class="container mx-auto px-4">
        <div class="text-center mb-16">
            <h2 class="text-3xl font-bold text-blue-900 mb-4">Our Featured Programs</h2>
            <p class="text-gray-600 max-w-2xl mx-auto">
                ESA-KU offers a wide range of programs and activities designed to enhance your engineering education and prepare you for a successful career.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Program 1 -->
            <div class="bg-gray-50 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all h-full flex flex-col">
                <div class="h-48 bg-cover bg-center relative" style="background-image: url({% static 'images/technical_workshops.png' %});">
                    <div class="absolute bottom-0 left-0 bg-blue-900 text-white py-1 px-3 text-sm font-bold">
                        Skill Development
                    </div>
                </div>
                <div class="p-6 flex-grow flex flex-col">
                    <h3 class="text-xl font-bold text-blue-900 mb-2">Technical Workshops</h3>
                    <p class="text-gray-600 mb-4 flex-grow">
                        Hands-on learning experiences with cutting-edge technologies and engineering tools. Our workshops cover programming, CAD design, circuit building, and more. Led by industry professionals and experienced faculty.
                    </p>
                    <div class="mt-auto">
                        <ul class="text-gray-600 mb-4 text-sm">
                            <li class="flex items-center mb-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Weekly hands-on sessions
                            </li>
                            <li class="flex items-center mb-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Certificate of completion
                            </li>
                            <li class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Industry-relevant skills
                            </li>
                        </ul>
                        <a href="{% url 'events' %}" class="text-green-700 font-semibold hover:underline flex items-center">
                            <span>View upcoming workshops</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Program 2 -->
            <div class="bg-gray-50 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all h-full flex flex-col">
                <div class="h-48 bg-cover bg-center relative" style="background-image: url({% static 'images/industry_connections.png' %});">
                    <div class="absolute bottom-0 left-0 bg-blue-900 text-white py-1 px-3 text-sm font-bold">
                        Career Growth
                    </div>
                </div>
                <div class="p-6 flex-grow flex flex-col">
                    <h3 class="text-xl font-bold text-blue-900 mb-2">Industry Connections</h3>
                    <p class="text-gray-600 mb-4 flex-grow">
                        Networking events, company visits, and mentorship opportunities with leading engineering firms. Build relationships with industry professionals and explore potential career paths.
                    </p>
                    <div class="mt-auto">
                        <ul class="text-gray-600 mb-4 text-sm">
                            <li class="flex items-center mb-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Networking events
                            </li>
                            <li class="flex items-center mb-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Industry mentorship
                            </li>
                            <li class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Company site visits
                            </li>
                        </ul>
                        <a href="{% url 'communities' %}" class="text-green-700 font-semibold hover:underline flex items-center">
                            <span>Join our communities</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Program 3 -->
            <div class="bg-gray-50 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all h-full flex flex-col">
                <div class="h-48 bg-cover bg-center relative" style="background-image: url('https://images.unsplash.com/photo-1531482615713-2afd69097998?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')">
                    <div class="absolute bottom-0 left-0 bg-blue-900 text-white py-1 px-3 text-sm font-bold">
                        Innovation
                    </div>
                </div>
                <div class="p-6 flex-grow flex flex-col">
                    <h3 class="text-xl font-bold text-blue-900 mb-2">Research Projects</h3>
                    <p class="text-gray-600 mb-4 flex-grow">
                        Collaborative research opportunities to solve real-world engineering challenges. Work on projects that address local and global issues, with guidance from faculty and industry experts.
                    </p>
                    <div class="mt-auto">
                        <ul class="text-gray-600 mb-4 text-sm">
                            <li class="flex items-center mb-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Team-based projects
                            </li>
                            <li class="flex items-center mb-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Research publication opportunities
                            </li>
                            <li class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Funding and resource support
                            </li>
                        </ul>
                        <a href="{% url 'resources' %}" class="text-green-700 font-semibold hover:underline flex items-center">
                            <span>Explore research resources</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <!--
        <div class="text-center mt-12">
            <a href="{% url 'communities' %}" class="inline-block bg-blue-900 text-white hover:bg-blue-800 py-3 px-6 rounded-lg font-bold transition-colors">
                View All Programs
            </a>
        </div>
    -->
    </div>
</section>

<!-- Upcoming Events -->
<section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="text-center mb-16">
            <h2 class="text-3xl font-bold text-blue-900 mb-4">Upcoming Events</h2>
            <p class="text-gray-600 max-w-2xl mx-auto">
                Stay connected with the latest activities, workshops, and gatherings in the ESA-KU community.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% if events %}
                {% for event in events %}
                <div class="bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1">
                    <div class="h-48 bg-cover bg-center relative" 
                        {% if event.image %}
                            style="background-image: url('{{ event.image.url }}')"
                        {% else %}
                            style="background-image: url('https://images.unsplash.com/photo-1550439062-609e1531270e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"
                        {% endif %}
                    >
                        <div class="absolute top-4 left-4 bg-blue-900 text-white py-1 px-3 rounded-full text-sm font-bold">
                            {{ event.start_date|date:"M d, Y" }}
                        </div>
                        {% if event.featured %}
                            <div class="absolute top-4 right-4 bg-yellow-500 text-white py-1 px-3 rounded-full text-sm font-bold">
                                Featured
                            </div>
                        {% endif %}
                    </div>
                    <div class="p-6">
                        <div class="flex items-center mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <span class="text-gray-500">{{ event.location }}</span>
                        </div>
                        <h3 class="text-xl font-bold text-blue-900 mb-2">{{ event.title }}</h3>
                        <p class="text-gray-600 mb-4">
                            {% if event.short_description %}
                                {{ event.short_description|truncatechars:100 }}
                            {% else %}
                                {{ event.description|truncatechars:100 }}
                            {% endif %}
                        </p>
                        <a href="{% url 'event_detail' event_id=event.id %}" class="inline-block bg-blue-900 hover:bg-blue-800 text-white py-2 px-4 rounded-lg transition-colors">
                            Register Now
                        </a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-span-3 text-center py-12">
                    <p class="text-xl text-gray-600">No upcoming events at the moment. Check back soon!</p>
                </div>
            {% endif %}
        </div>
        
        <div class="text-center mt-12">
            <a href="{% url 'events' %}" class="inline-block bg-blue-900 text-white hover:bg-blue-800 py-3 px-6 rounded-lg font-bold transition-colors">
                View All Events
            </a>
        </div>
    </div>
</section>

<!-- Latest News Section -->
<section id="news" class="py-16 bg-gray-100">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-12 text-blue-900">Latest Articles</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            {% if blog_posts %}
                {% for post in blog_posts %}
                <div class="bg-white rounded-xl overflow-hidden shadow-lg transition-transform duration-300 hover:scale-[1.02]">
                    <div class="relative">
                        {% if post.image %}
                        <img 
                            src="{{ post.image.url }}" 
                            alt="{{ post.title }}" 
                            class="w-full h-56 object-cover lazy-load"
                            loading="lazy">
                        {% else %}
                        <img 
                            src="https://images.unsplash.com/photo-1507842217343-583bb7270b66?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80" 
                            alt="{{ post.title }}" 
                            class="w-full h-56 object-cover lazy-load"
                            loading="lazy">
                        {% endif %}
                        <div class="absolute top-4 left-4 bg-{% if post.category == 'research' %}blue-900{% elif post.category == 'journal' %}blue-700{% elif post.category == 'projects' %}blue-800{% else %}blue-600{% endif %} text-white text-sm font-semibold py-1 px-3 rounded-full">
                            {{ post.get_category_display|default:post.category|title }}
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-gray-500 text-sm mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            <span>{{ post.created_at|date:"M d, Y" }}</span>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-3">{{ post.title }}</h3>
                        <p class="text-gray-600 mb-4">{{ post.content|striptags|markdown_to_html|truncatechars:100 }}</p>
                        <a href="{% url 'blog_post_detail' post_id=post.id %}" class="text-blue-900 font-semibold hover:text-blue-800 flex items-center">
                            Read more
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>
                        </a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-span-2 text-center py-12">
                    <p class="text-xl text-gray-600">No news articles available at the moment.</p>
                </div>
            {% endif %}
        </div>
        
        <div class="text-center mt-10">
            <a href="{% url 'blog' %}" class="inline-block bg-blue-900 text-white hover:bg-blue-800 py-3 px-6 rounded-lg font-bold transition-colors">
                View All Articles
            </a>
        </div>
    </div>
</section>

<!-- Countdown Timer for Next Major Event -->
<section class="py-10 bg-blue-900 text-white">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row items-center justify-between">
            <div class="mb-6 md:mb-0">
                {% if next_major_event %}
                    <h3 class="text-2xl font-bold">Next Major Event: {{ next_major_event.title }}</h3>
                    <p class="text-lg opacity-90">
                        {% if next_major_event.short_description %}
                            {{ next_major_event.short_description }}
                        {% else %}
                            {{ next_major_event.description|truncatechars:80 }}
                        {% endif %}
                    </p>
                {% else %}
                    <h3 class="text-2xl font-bold">Next Major Event</h3>
                    <p class="text-lg opacity-90">Stay tuned for our upcoming events!</p>
                {% endif %}
            </div>
            <div id="countdown" class="flex space-x-4">
                <div class="flex flex-col items-center">
                    <div id="countdown-days" class="bg-white bg-opacity-20 rounded-lg w-16 h-16 flex items-center justify-center text-2xl font-bold">--</div>
                    <span class="text-sm mt-1">Days</span>
                </div>
                <div class="flex flex-col items-center">
                    <div id="countdown-hours" class="bg-white bg-opacity-20 rounded-lg w-16 h-16 flex items-center justify-center text-2xl font-bold">--</div>
                    <span class="text-sm mt-1">Hours</span>
                </div>
                <div class="flex flex-col items-center">
                    <div id="countdown-minutes" class="bg-white bg-opacity-20 rounded-lg w-16 h-16 flex items-center justify-center text-2xl font-bold">--</div>
                    <span class="text-sm mt-1">Minutes</span>
                </div>
                <div class="flex flex-col items-center">
                    <div id="countdown-seconds" class="bg-white bg-opacity-20 rounded-lg w-16 h-16 flex items-center justify-center text-2xl font-bold">--</div>
                    <span class="text-sm mt-1">Seconds</span>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Partner Logos -->
<section class="py-12 bg-white">
    <div class="container mx-auto px-4">
        <h2 class="text-2xl font-bold text-center text-gray-600 mb-10">Our Industry Partners</h2>
        <div class="flex flex-wrap justify-center items-center gap-12">
            {% for partner in partners %}
                <a href="{{ partner.website }}" target="_blank" class="h-12 grayscale hover:grayscale-0 transition-all">
                    <img src="{{ partner.logo.url }}" alt="{{ partner.name }}" class="h-12">
                </a>
            {% empty %}
                <p class="text-gray-500">No partners to display at the moment.</p>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Join Us Section with Newsletter -->
<section id="join-us" class="py-16 bg-gradient-to-b from-white to-gray-100">
    <div class="container mx-auto px-4">
        <div class="text-center max-w-3xl mx-auto">
            <h2 class="text-3xl font-bold mb-8 text-blue-900">Join Our Community</h2>
            <p class="text-lg mb-10 text-gray-700">Become a part of ESA and connect with like-minded engineering students, access exclusive resources, and enhance your professional development.</p>
            
            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4 mb-12">
                <a href="{% url 'membership' %}#pricingSection " class="inline-flex items-center justify-center px-8 py-3 bg-blue-900 text-white font-semibold rounded-lg hover:bg-blue-800 transition duration-300 shadow-md">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
                    </svg>
                    Become a Member
                </a>
                <a href="{% url 'contact' %}" class="inline-flex items-center justify-center px-8 py-3 border-2 border-blue-900 text-blue-900 font-semibold rounded-lg hover:bg-gray-100 transition duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                    </svg>
                    Contact Us
                </a>
            </div>
            
            <!-- Newsletter Subscription Form -->
            <div class="bg-white p-8 rounded-xl shadow-md">
                <h3 class="text-xl font-bold mb-4 text-blue-900">Subscribe to Our Newsletter</h3>
                <p class="text-gray-600 mb-6">Stay updated with the latest events, news, and opportunities from ESA.</p>
                <form action="{% url 'home' %}" method="post" class="max-w-md mx-auto">
                    {% csrf_token %}
                    <input type="hidden" name="form_type" value="newsletter">
                    <div class="flex flex-col sm:flex-row gap-3">
                        <input 
                            type="email"
                            name="email" 
                            placeholder="Your email address" 
                            class="flex-1 px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-900"
                            required
                        >
                        <button 
                            type="submit" 
                            class="px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition duration-300"
                        >
                            Subscribe
                        </button>
                    </div>
                    <div class="mt-3 text-sm text-gray-500">
                        We respect your privacy. Unsubscribe at any time.
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>


<!-- Social Media Integration Section -->
 <!--
<section class="py-10 bg-gray-800 text-white">
    <div class="container mx-auto px-4 text-center">
        <h2 class="text-2xl font-bold mb-6">Connect with Us</h2>
        <p class="text-gray-400 mb-8">Follow us on social media to stay updated with the latest news and events.</p>
        <div class="flex justify-center space-x-6">
            <a href="https://x.com/_ESA_KU?t=x-un9kKzcNPDSAwYcZ49YQ&s=09" target="_blank" class="text-gray-400 hover:text-white transition">
                <i class="fab fa-x-twitter text-3xl"></i>
            </a>
            <a href="https://www.linkedin.com/in/esa-ku-a8256717b?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank" class="text-gray-400 hover:text-white transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M22.23 0h-20.46c-.974 0-1.77.796-1.77 1.77v20.46c0 .974.796 1.77 1.77 1.77h20.46c.974 0 1.77-.796 1.77-1.77v-20.46c0-.974-.796-1.77-1.77-1.77zm-15.538 20.452h-3.077v-10.769h3.077v10.769zm-1.538-12.308c-.974 0-1.769-.796-1.769-1.769s.796-1.769 1.769-1.769 1.769.796 1.769 1.769-.796 1.769-1.769 1.769zm13.846 12.308h-3.077v-5.385c0-1.282-.026-2.933-1.785-2.933-1.785 0-2.058 1.396-2.058 2.837v5.481h-3.077v-10.769h2.949v1.474h.041c.41-.774 1.41-1.59 2.897-1.59 3.092 0 3.662 2.037 3.662 4.685v6.2z"/>
                </svg>
            </a>
            <a href="https://www.tiktok.com/@esaku45?_t=ZM-8yNcHA4KL9M&_r=1" target="_blank" class="text-gray-400 hover:text-white transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
                </svg>
            </a>
            <a href="https://www.instagram.com/esa.ku?igsh=MXIyN3hsZTQxb2Z0Yw%3D%3D&utm_source=qr" target="_blank" class="text-gray-400 hover:text-white transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2.163c3.204 0 3.584.012 4.849.07 1.366.062 2.633.334 3.608 1.309.975.975 1.247 2.242 1.309 3.608.058 1.265.07 1.645.07 4.849s-.012 3.584-.07 4.849c-.062 1.366-.334 2.633-1.309 3.608-.975.975-2.242 1.247-3.608 1.309-1.265.058-1.645.07-4.849.07s-3.584-.012-4.849-.07c-1.366-.062-2.633-.334-3.608-1.309-.975-.975-1.247-2.242-1.309-3.608-.058-1.265-.07-1.645-.07-4.849s.012-3.584.07-4.849c.062-1.366.334-2.633 1.309-3.608.975-.975 2.242-1.247 3.608-1.309 1.265-.058 1.645-.07 4.849-.07zm0-2.163c-3.259 0-3.667.012-4.947.071-1.281.059-2.418.27-3.337 1.189-.919.919-1.13 2.056-1.189 3.337-.059 1.28-.071 1.688-.071 4.947s.012 3.667.071 4.947c.059 1.281.27 2.418 1.189 3.337.919.919 2.056 1.13 3.337 1.189 1.28.059 1.688.071 4.947.071s3.667-.012 4.947-.071c1.281-.059 2.418-.27 3.337-1.189.919-.919 1.13-2.056 1.189-3.337.059-1.28.071-1.688.071-4.947s-.012-3.667-.071-4.947c-.059-1.281-.27-2.418-1.189-3.337-.919-.919-2.056-1.13-3.337-1.189-1.28-.059-1.688-.071-4.947-.071zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.324c-2.296 0-4.162-1.866-4.162-4.162s1.866-4.162 4.162-4.162 4.162 1.866 4.162 4.162-1.866 4.162-4.162 4.162zm6.406-11.845c-.796 0-1.441.645-1.441 1.441s.645 1.441 1.441 1.441 1.441-.645 1.441-1.441-.645-1.441-1.441-1.441z"/>
                </svg>
            </a>
        </div>
    </div>
</section> -->

<!-- Back to Top Button -->
<div id="back-to-top" class="fixed bottom-8 right-8 z-50 hidden">
    <button 
        onclick="window.scrollTo({top: 0, behavior: 'smooth'})" 
        class="bg-blue-900 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition-colors duration-300"
        aria-label="Back to top"
    >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
        </svg>
    </button>
</div>
{% endblock %}
<!-- Add JavaScript for lazy loading and back to top button -->
{% block extra_js %}
<script>
    // Back to Top Button
    const backToTopButton = document.getElementById('back-to-top');
    
    window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
            backToTopButton.classList.remove('hidden');
            backToTopButton.classList.add('flex');
        } else {
            backToTopButton.classList.add('hidden');
            backToTopButton.classList.remove('flex');
        }
    });

    // Countdown Timer
    function updateCountdown() {
        {% if next_major_event %}
        const eventDate = new Date('{{ next_major_event.start_date|date:"Y-m-d" }}T{{ next_major_event.start_time|time:"H:i:s" }}').getTime();
        {% else %}
        // Default to a future date if no event is scheduled
        const eventDate = new Date('{% now "Y-m-d" %}').getTime() + (30 * 24 * 60 * 60 * 1000); // 30 days from now
        {% endif %}
        
        const now = new Date().getTime();
        const distance = eventDate - now;

        // If the event date is in the past, show zeros
        if (distance < 0) {
            document.getElementById('countdown-days').innerText = '0';
            document.getElementById('countdown-hours').innerText = '0';
            document.getElementById('countdown-minutes').innerText = '0';
            document.getElementById('countdown-seconds').innerText = '0';
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById('countdown-days').innerText = days;
        document.getElementById('countdown-hours').innerText = hours;
        document.getElementById('countdown-minutes').innerText = minutes;
        document.getElementById('countdown-seconds').innerText = seconds;
    }
    
    // Update countdown every second
    setInterval(updateCountdown, 1000);
    updateCountdown(); // Initial call
    
    // Add smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const target = document.querySelector(targetId);
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        });
    });
</script>

{% endblock %}
